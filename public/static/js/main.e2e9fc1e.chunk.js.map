{"version":3,"sources":["Components/Login.js","Components/PopupPortal.js","Components/Header.js","Components/DateSort.js","Components/Movies.js","Components/BookingForm.js","Components/Showings.js","Components/Movie.js","Components/Info.js","Components/MyBookings.js","Components/ContectBox.js","Services/BioApi.js","Components/Popup.js","App.js","serviceWorker.js","index.js"],"names":["Login","close","bind","maybeClose","submitLogin","submitRegister","document","getElementById","click","style","display","event","target","tagName","this","preventDefault","username","value","password","props","BioApi","login","alert","register","onClose","id","method","onClick","type","name","React","Component","PopupPortal","popupShadow","state","setState","ReactDOM","createPortal","children","Header","logedin","showLogin","logout","loginUppdate","addListener","islogedin","to","activeClassName","DateSort","cinemas","uppdateSort","filter","date","cinema","age","onChange","dateOptions","startdate","Date","toDateString","push","getTime","getDate","getMonth","loopDate","setDate","weekdays","i","getDay","cinemaOptions","ageOptions","movie","age_limit","className","Movies","movies","src","image_url","alt","currentTarget","parentElement","title","console","log","map","renderOneMoive","BookingForm","uppdatePrice","submit","wait","show","ticketCount","totalPRice","seat_price","priceElement","innerText","showId","seatCount","isLogin","addBookingCurrentUSer","email","addBookingNewUser","auditorium","cinema_id","startDate","start_at","isLogedIn","onSubmit","toISOString","slice","spoken_language","subtitle_language","min","max","readOnly","required","href","Showings","bookingShow","movieid","shows","filterShows","filterDate","filterCinema","loadShows","showBooking","renderOneShow","hideBooking","auditoriums","startTime","auditorium_id","showID","getAttribute","currentShow","bookingForm","minDate","maxDate","Infinity","seats_left","data-show-id","match","params","withRouter","Movie","loadMovie","length","language","category","description","Info","MyBookings","reservations","uppdateReservations","reverse","booking","movieDate","first_seat_number","seat_count","renderOneBooking","ContentBox","exact","from","path","conction","auditoriumsPromis","auditoriumsList","cinemasPromis","cinemasList","eventFunctions","user","getJson","then","token","JSON","parse","localStorage","getItem","fetch","response","status","Error","text","json","formData","options","body","FormData","append","postJson","setItem","stringify","triggerListener","removeItem","eventFunction","Popup","App","api","pageToDisplay","Logedin","Boolean","window","location","hostname","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e2e9fc1e.chunk.js","sourcesContent":["import React from \"react\";\nimport './Login.scss';\n\nclass Login extends React.Component {\n\n    constructor() {\n        super();\n        this.close = this.close.bind(this);\n        this.maybeClose = this.maybeClose.bind(this);\n        this.submitLogin = this.submitLogin.bind(this);\n        this.submitRegister = this.submitRegister.bind(this);\n    }\n\n    close() {\n        //TODO: FIX better\n        try{\n            document.getElementById('PopupShadow').click();\n            document.getElementById('loginForm').style.display = 'none';\n        } catch {}\n    }\n\n    maybeClose(event) {\n        if(event.target.tagName === \"FORM\") {\n           this.close();\n        } else {\n            event.preventDefault();\n        }\n    }\n\n    async submitLogin(event) {\n        event.preventDefault();\n\n        const username = document.getElementById(\"username\").value;\n        const password = document.getElementById(\"password\").value;\n        document.getElementById(\"password\").value = \"\";\n\n        if(await this.props.BioApi.login(username, password))\n        {\n            this.close();\n        } else {\n            alert(\"Login faild\");\n        }\n    }\n\n    async submitRegister(event) {\n        event.preventDefault();\n        const username = document.getElementById(\"username\").value;\n        const password = document.getElementById(\"password\").value;\n        document.getElementById(\"password\").value = \"\";\n\n        if(await this.props.BioApi.register(username, password))\n        {\n            this.props.onClose(event);\n        } else {\n            alert(\"Register faild\");\n        }\n    }\n\n    render() {\n        return (\n            <form id=\"loginForm\" method=\"post0\" onClick={this.maybeClose}>\n                <div id=\"Login\">\n                    <p>Login</p>\n                    <label>\n                        <span>Username:</span> \n                        <input id=\"username\" type=\"text\" name=\"username\"/>\n                    </label>\n                    <label>\n                        <span>Password:</span>\n                        <input id=\"password\" type=\"password\" name=\"password\"/>\n                    </label>\n                    <label>\n                        <input type=\"submit\" value=\"Register\" onClick={this.submitRegister} />\n                        <input type=\"submit\" value=\"Login\" onClick={this.submitLogin} />\n                    </label>\n                    <span id=\"LoginClose\" onClick={this.close}>X</span>\n                </div>\n            </form>\n        );\n    }\n}\n\nexport default Login;\n","import ReactDOM from 'react-dom';\nimport React from \"react\";\n\nclass PopupPortal extends React.Component {\n    popupShadow = null;\n\n    constructor() {\n        super();\n        this.state = {popupShadow: this.popupShadow};\n    }\n\n    componentDidMount() {\n        if(this.popupShadow == null) {\n            this.popupShadow = document.getElementById('PopupShadow');\n            if(this.popupShadow != null) {\n                this.setState({popupShadow: this.popupShadow});\n            }\n        }\n    }\n\n    render() {\n        if(this.popupShadow == null) {\n            this.popupShadow = document.getElementById('PopupShadow');\n            if(this.popupShadow == null) {\n                return \"\";\n            }\n        }\n\n        return ReactDOM.createPortal(\n            this.props.children,\n            this.popupShadow\n        );\n    }\n}\n\nexport default PopupPortal;","import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport Login from './Login';\nimport PopupPortal from './PopupPortal';\nimport './Header.scss';\n\nclass Header extends React.Component {\n    constructor() {\n        super(); \n        this.state = { logedin: false }\n        this.showLogin = this.showLogin.bind(this);\n        this.logout = this.logout.bind(this);\n        this.loginUppdate = this.loginUppdate.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.BioApi.addListener(this.loginUppdate);\n\n        if(this.props.BioApi.islogedin()) {\n            this.setState({ logedin: true });\n        }\n    }\n\n    showLogin() {\n        document.getElementById('loginForm').style.display='flex';\n        document.getElementById('PopupShadow').style.display='block';\n    }\n\n    logout() {\n        this.props.BioApi.logout();\n    }\n\n    loginUppdate(logedin){\n        this.setState({logedin});\n    }\n\n    render() {\n        return (\n            <header id=\"MenuHedder\">\n                    <h1>KID CINEMA!</h1>\n                    <NavLink to=\"/movies\" activeClassName=\"active\">Movies</NavLink>\n                    <NavLink to=\"/info\" activeClassName=\"active\">Info</NavLink>\n\n                    { this.state.logedin ?\n                         (<>\n                            <NavLink to=\"/mybookings\" activeClassName=\"active\">My Bookings</NavLink>\n                            <span onClick={this.logout}>Logout</span>\n                         </>)\n                         :\n                         (<>\n                            <span onClick={this.showLogin}>Login</span>\n                            <PopupPortal>\n                                <Login BioApi={this.props.BioApi} />\n                            </PopupPortal>\n                         </>)\n                    }\n            </header>\n        );\n    }\n}\n\nexport default Header;\n","//Sort movies on Today, Tomorrow and next day...\nimport React from 'react';\nimport './DateSort.scss';\n\nclass DateSort extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { cinemas: [] };\n        this.uppdateSort = this.uppdateSort.bind(this);\n    }\n\n    async componentDidMount() {\n        const cinemas = await this.props.BioApi.cinemas();\n        this.setState({ cinemas });\n    }\n\n    uppdateSort() {\n        const filter = {};\n        filter.date = document.getElementById(\"Filterdate\").value;\n        filter.cinema = document.getElementById(\"Filtercinema\").value;\n        filter.age = document.getElementById(\"Filterage\").value;\n\n        this.props.onChange(filter);\n    }\n\n    render() {\n        const dateOptions = [\n            (<option value=\"All\">Date: All</option>)\n        ];\n\n        const startdate = new Date(new Date().toDateString());\n        dateOptions.push((<option value={startdate.getTime()}>Today: {startdate.getDate()}/{startdate.getMonth()+1}</option>));\n\n        var loopDate = new Date(startdate);\n        loopDate.setDate(loopDate.getDate()+1);\n        dateOptions.push((<option value={loopDate.getTime()}>Tomorrow: {loopDate.getDate()}/{loopDate.getMonth()+1}</option>));\n\n        const weekdays = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n        for(var i = 0; i <= 5; i++) {\n            loopDate.setDate(loopDate.getDate()+1);\n            dateOptions.push((<option value={loopDate.getTime()}>{weekdays[loopDate.getDay()]}: {loopDate.getDate()}/{loopDate.getMonth()+1}</option>));\n        }\n\n        const cinemaOptions = [\n            (<option value=\"All\">All Cinemas</option>),\n        ];\n\n        for(const cinema of this.state.cinemas) {\n            cinemaOptions.push(\n                (<option value={cinema.id}>{cinema.name}</option>)\n            )\n        }\n\n        let ageOptions = [\n            (<option value=\"baby\">Age: All</option>),\n            (<option value=\"baby\">Age: 0-6</option>),\n            (<option value=\"kid\">Age: 7-15</option>)\n        ];\n\n        if(this.props.movie != null) {\n            ageOptions = [\n                (<option value=\"baby\">Age: {this.props.movie.age_limit}</option>)\n            ];\n        }\n\n        return (\n            <div className=\"DateSort\">\n                <div>\n                <select id=\"Filterdate\" onChange={this.uppdateSort}>\n                    {dateOptions}\n                </select>\n\n                <select id=\"Filtercinema\" onChange={this.uppdateSort}>\n                    {cinemaOptions}\n                </select>\n\n                <select id=\"Filterage\" onChange={this.uppdateSort}>\n                    {ageOptions}\n                </select>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DateSort;","//List all movies that is showing right now.\n\n//APP Defult window\nimport React from 'react';\nimport {Link} from \"react-router-dom\";\nimport DateSort from './DateSort';\n\nimport './Movies.scss';\n\nclass Movies extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = { movies: [] };\n  }\n\n  async componentDidMount() {\n    const movies = await this.props.BioApi.movies();\n    this.setState({ movies });\n  }\n\n  renderOneMoive(movie){\n    return (\n      <div className=\"MovieHolder\">\n        <div>\n          <img src={movie.image_url} alt=\"Movie poster\" onClick={(event) => event.currentTarget.parentElement.parentElement.children[1].click()} />\n        </div>\n        <Link to={\"/movie/\"+movie.id}>{movie.title}</Link>\n      </div>\n    );\n  }\n\n  uppdateSort(filter) {\n    console.log(\"B:\", filter);\n  }\n\n  render() {\n    return (\n      <>\n        {/*<DateSort movie={null} BioApi={this.props.BioApi} onChange={this.uppdateSort}/>*/}\n        <div className=\"MovieGrid\">\n            {this.state.movies.map(this.renderOneMoive)}\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Movies;\n","import React from 'react';\nimport './BookingForm.scss';\n\nclass BookingForm extends React.Component {\n\n    constructor() {\n        super(); \n        this.uppdatePrice = this.uppdatePrice.bind(this);\n        this.submit = this.submit.bind(this);\n        this.close = this.close.bind(this);\n        this.maybeClose = this.maybeClose.bind(this);\n    }\n\n    async componentDidMount() {\n        await this.props.BioApi.wait();\n    }\n\n    close() {\n        document.getElementById('PopupShadow').click();\n        this.props.onClose();\n    }\n\n    maybeClose(event) {\n        if(event.target.tagName === \"FORM\") {\n            this.close();\n        }\n    }\n\n    uppdatePrice() {\n        const show = this.props.show;\n        const ticketCount = +document.getElementById('ticketCount').value;\n        const moviePrice = show.seat_price;\n\n        const totalPRice = moviePrice * ticketCount;\n        const priceElement = document.getElementById('ticketsPrice');\n        console.log(priceElement);\n\n        priceElement.innerText = totalPRice;\n    }\n    \n    async submit(event) {\n        event.preventDefault();\n\n        const showId = this.props.show.id;\n        const seatCount = +document.getElementById('ticketCount').value;\n        const isLogin = this.props.BioApi.islogedin();\n\n        try{\n            if(isLogin) {\n                await this.props.BioApi.addBookingCurrentUSer(showId, seatCount);\n            } else {\n                const email = document.getElementById('email').value;\n                await this.props.BioApi.addBookingNewUser(showId, seatCount, email);\n            }\n            \n        } catch(error) {\n            //const errorJson = JSON.parse(error);\n            //console.error(\"error from BookingForm::submit():\", errorJson || error);\n            alert(\"Booking fail\");\n            return;\n        }\n\n        this.close();\n        alert(\"Bookings OK\");\n    }\n\n    render() {\n        const movie = this.props.movie;\n        const show = this.props.show;\n        const auditorium = show.auditorium;\n        const cinema = this.props.BioApi.cinema(auditorium.cinema_id);\n        const startDate = new Date(show.start_at);\n        const isLogedIn = this.props.BioApi.islogedin();\n        const email = this.props.BioApi.email();\n\n        console.log(\"Email:\", email);\n\n        return (\n            <form id=\"BookingForm\" onClick={this.maybeClose} onSubmit={this.submit}>\n                <div id=\"Booking\">\n\n                    <h3>Book tickets</h3>\n                    <p>\n                        <strong>{movie.title}</strong>\n                        <span>{startDate.toISOString().slice(11,16)} {startDate.toISOString().slice(0,10)}</span>\n                        <span>{cinema.name} {auditorium.name}</span>\n                        <span>{show.spoken_language} | Subtitle: {show.subtitle_language}</span> \n                    </p>\n\n                    <label>\n                        <span>Number of tickets: </span>     \n                        <input id=\"ticketCount\" name=\"ticketCount\" type=\"number\" min=\"1\" max=\"10\" onChange={this.uppdatePrice}/>\n                        <span>\n                            <span id=\"ticketsPrice\">{show.seat_price}</span>&nbsp;SEK\n                        </span>\n                    </label>\n\n                    <label>\n                        <span>Email:</span> \n                        {\n                            isLogedIn ?\n                            <input id=\"email\" name=\"email\" type=\"email\" value={email} readOnly />:\n                            <input id=\"email\" name=\"email\" type=\"email\"/>\n                        }\n                    </label>\n\n                    <label>\n                        <input type=\"checkbox\" value=\"byRulse\" required />\n                        <span>I have read and agree with the <a target=\"_blank\" href=\"/Aggrement.pdf\">terms and conditions</a></span>\n                    </label>\n\n                    <label>\n                        <input type=\"checkbox\" value=\"byAge\" required/>\n                        <span>I am 15 years of age or older.</span>\n                    </label>\n\n                    <label>\n                        <input type=\"submit\" value=\"validate\" />\n                    </label>\n                    <span id=\"BookingClose\" onClick={this.close}>X</span>\n                </div>\n            </form>\n    );\n  }\n}\n\nexport default BookingForm;\n","//Show the info of one movie.\nimport React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport BookingForm from \"./BookingForm\";\nimport DateSort from \"./DateSort\";\nimport PopupPortal from \"./PopupPortal\";\nimport \"./Showings.scss\";\n\nclass Showings extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      bookingShow: null,\n      movieid: 0,\n      shows: [],\n      filterShows: [],\n      filterDate: \"All\",\n      filterCinema: \"All\"\n    };\n    this.loadShows = this.loadShows.bind(this);\n    this.showBooking = this.showBooking.bind(this);\n    this.renderOneShow = this.renderOneShow.bind(this);\n    this.hideBooking = this.hideBooking.bind(this);\n    this.uppdateSort = this.uppdateSort.bind(this);\n    this.filterShows = this.filterShows.bind(this);\n  }\n\n  async loadShows(movieid) {\n    const shows = await this.props.BioApi.shows(movieid);\n    const auditoriums = await this.props.BioApi.auditoriums();\n    const cinemas = await this.props.BioApi.cinemas();\n\n    for (const show of shows) {\n        show.startDate = new Date(show.start_at);\n        show.startTime = show.startDate.getTime();\n    }\n\n    for (const auditorium of auditoriums) {\n      for (const show of shows) {\n        if (show.auditorium_id === auditorium.id) {\n          show.auditorium = auditorium;\n        }\n      }\n    }\n\n    for (const cinema of cinemas) {\n      for (const show of shows) {\n        if (show.auditorium.cinema_id === cinema.id) {\n          show.cinema = cinema;\n        }\n      }\n    }\n    this.setState({ movieid, shows });\n    this.state.shows = shows;\n    this.filterShows();\n  }\n\n  showBooking(event) {\n    const showID = +event.currentTarget.getAttribute(\"data-show-id\");\n    let show = null;\n\n    for (const currentShow of this.state.shows) {\n      if (currentShow.id === showID) {\n        show = currentShow;\n        break;\n      }\n    }\n\n    if (show === null) {\n      return;\n    }\n\n    this.setState({ bookingShow: show });\n    const bookingForm = document.getElementById(\"BookingForm\");\n    if (bookingForm) {\n      bookingForm.style.display = \"flex\";\n    }\n    document.getElementById(\"PopupShadow\").style.display = \"block\";\n  }\n\n  hideBooking() {\n    this.setState({ bookingShow: null });\n  }\n\n  uppdateSort(filter) {\n    //console.log(\"A:\", filter);\n    this.setState({ filterDate: filter.date, filterCinema: filter.cinema });\n    this.state.filterDate = filter.date;\n    this.state.filterCinema = filter.cinema;\n    this.filterShows();\n  }\n\n  filterShows(){\n    const filterShows = [];\n\n    var minDate = 0;\n    var maxDate = Infinity;\n\n    if(this.state.filterDate === \"All\"){\n        minDate = (new Date(new Date().toDateString())).getTime();\n    } else {\n        minDate = +this.state.filterDate;\n        maxDate = minDate+25*60*60*1000;\n    }\n\n    console.log(\"DateRage:\", [minDate, maxDate] );\n\n    for(const show of this.state.shows) {\n        //if date\n        if(show.startTime < minDate || show.startTime > maxDate) {\n            continue;\n        }\n\n        console.log(\"DateMatch:\", [minDate, show.startTime, maxDate] );\n\n        //if cinema\n        if(this.state.filterCinema !== \"All\" && +this.state.filterCinema !== show.cinema.id) {\n            continue;\n        }\n        filterShows.push(show);\n    }\n    this.setState({ filterShows });\n  }\n\n  renderOneShow(show) {\n    const startDate = show.startDate;\n\n    return (\n      <li>\n        <span title={startDate.toISOString().slice(0,10)}>\n            {startDate.toISOString().slice(11, 16)}<br/>\n            {startDate.getDate()}/{startDate.getMonth()+1}\n        </span>\n        <span>\n          <strong>\n            {show.cinema.name} {show.auditorium.name}\n          </strong>\n          <br />\n          <span>\n            {show.spoken_language} | Subtitle:&nbsp;{show.subtitle_language}\n          </span>\n        </span>\n        <span>\n          <span>{show.seats_left} seats left</span>\n          <button\n            className=\"BookingButton\"\n            data-show-id={show.id}\n            onClick={this.showBooking}\n          >\n            Too Booking\n          </button>\n        </span>\n      </li>\n    );\n  }\n\n  render() {\n    const movieid = this.props.match.params.id;\n\n    if (movieid && this.state.movieid !== movieid) {\n      this.loadShows(movieid);\n    }\n\n    return (\n      <>\n        <DateSort\n          movie={this.props.movie}\n          BioApi={this.props.BioApi}\n          onChange={this.uppdateSort}\n        />\n        <ul className=\"Showlist\">{this.state.filterShows.map(this.renderOneShow)}</ul>\n        <PopupPortal>\n          {this.state.bookingShow !== null ? (\n            <BookingForm\n              BioApi={this.props.BioApi}\n              movie={this.props.movie}\n              show={this.state.bookingShow}\n              onClose={this.hideBooking}\n            />\n          ) : (\n            \"\"\n          )}\n        </PopupPortal>\n      </>\n    );\n  }\n}\n\nexport default withRouter(Showings);\n","//Show the info of one movie.\nimport React from \"react\";\nimport {withRouter} from \"react-router-dom\";\nimport Showings from \"./Showings\";\nimport './Movie.scss';\n\nclass Movie extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {movieid: 0, movie: null };\n    }\n    \n    async loadMovie(id) {\n        const movie = await this.props.BioApi.movie(id);\n        this.setState({ movieid: id, movie })\n    }\n    \n    render() {\n        const movieid = this.props.match.params.id;\n\n        if(movieid && this.state.movieid !== movieid) {\n            this.loadMovie(movieid);\n        }\n\n        if(!this.state.movie){ \n            return (\n                <p>Loading</p>\n            );\n        }\n\n        return (\n            <>\n                <div id=\"MovieInfo\">\n                    <img id=\"MovePicture\" alt=\"movie poster\" src={this.state.movie.image_url} />\n                    \n                    <div id=\"MovieTitle\">\n                        <h1>{this.state.movie.title}</h1>\n                        <label>\n                            Age: {this.state.movie.age_limit} |&nbsp;\n                            Time: {this.state.movie.length} |&nbsp;\n                            {this.state.movie.language} |&nbsp;\n                            {this.state.movie.category}\n                        </label>\n                    </div>                    \n                </div>\n\n                <div id=\"MovieText\">\n                    {this.state.movie.description}\n                </div>\n                \n                <Showings movie={this.state.movie} BioApi={this.props.BioApi}/>\n            </>\n        );\n    }\n}\n\nexport default withRouter(Movie);\n","import React from \"react\";\n\nclass Info extends React.Component {\n    render() {\n        return (\n                <div>\n                    <h1>Tuffs Bio!</h1>\n                    <p>\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed rhoncus faucibus scelerisque. Nulla molestie risus velit, quis dapibus eros hendrerit nec. Aliquam quis felis eu nulla dignissim scelerisque. Donec imperdiet quam non cursus congue. Aenean fringilla nulla vel ipsum suscipit tempus. Pellentesque vitae nisi ante. Nunc interdum, nibh ut pellentesque dignissim, nibh mi tincidunt ligula, et auctor ipsum leo eget arcu.\n\n                        Sed sed magna sem. Duis luctus at metus venenatis eleifend. Mauris sit amet velit magna. Mauris sollicitudin, diam vel volutpat tincidunt, augue metus facilisis ipsum, eu commodo elit nulla pretium massa. Nam ac quam sagittis, fermentum nunc eget, commodo lacus. Nullam in facilisis arcu, vel ultricies metus. Nam non lectus ut est ullamcorper varius. Duis dapibus accumsan tempor. Duis finibus ac risus ac commodo. In hac habitasse platea dictumst. Nam sit amet venenatis nisl. Proin tellus dui, tempus sit amet pulvinar nec, mattis non urna.\n\n                        Phasellus lectus nisl, dignissim id egestas vel, facilisis a dolor. Mauris fringilla nec elit in consectetur. Pellentesque euismod et turpis nec tempor. Sed at tempor tortor, nec hendrerit massa. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Vestibulum dictum non nisi sit amet aliquet. Etiam sodales tempus velit, ut interdum mi tempor in. Donec dapibus bibendum purus, ac euismod tortor feugiat eu. Aenean eget libero pellentesque, posuere massa quis, ornare sem. Vivamus lobortis sem a euismod fermentum. Donec purus arcu, posuere quis facilisis a, condimentum pulvinar eros. Nullam vitae faucibus massa. Phasellus sed lorem quis nunc blandit tincidunt.\n                    </p>\n                </div>\n        );\n    }\n}\n\nexport default Info;","import React from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport './MyBookings.scss';\n\nclass MyBookings extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { reservations: [] , logedin: false };\n        this.loginUppdate = this.loginUppdate.bind(this);\n    }\n\n    async componentDidMount() {\n        this.props.BioApi.addListener(this.loginUppdate);\n\n        if(this.props.BioApi.islogedin()) {\n            this.uppdateReservations();\n        }\n    }\n\n    async uppdateReservations() {\n        //await this.props.BioApi.login('tuffsruffs@gmail.com', 'a');\n        let reservations;\n\n        try {\n            reservations = await this.props.BioApi.reservations();\n            await this.props.BioApi.wait();\n        } catch {\n            alert(\"Faild to load reservations\");\n        }\n        console.log(\"reserv\",reservations);\n        //TODO: Sort by Date\n        if(reservations) {\n            reservations = reservations.reverse();\n            this.setState({ reservations: reservations });\n        }\n    }\n\n    loginUppdate(logedin){\n        this.setState({logedin});\n    }\n    \n    renderOneBooking(booking){\n        const show = booking.show;\n        const movie = show.movie;\n        const auditorium = this.props.BioApi.auditorium(show.auditorium_id);\n        const cinema = this.props.BioApi.cinema(auditorium.cinema_id);\n        const movieDate = new Date(show.start_at);\n        //console.log({cinema, auditorium, movie, show, booking});\n\n        return(\n            <li>\n                <img src={movie.image_url} alt=\"Movie poster\" />\n\n                <div>\n                    <h3>{movie.title}</h3>\n                    <div>\n                        <span>{cinema.name} - {auditorium.name} - {booking.show.spoken_language}</span>\n                        <span>Seats: {booking.first_seat_number} - {booking.first_seat_number + booking.seat_count - 1}</span>\n                    </div>\n                    <div>\n                        <span>{movieDate.toISOString().slice(11,16)} - {movieDate.toISOString().slice(0,10)}</span>\n                        <span>Price: {booking.show.seat_price * booking.seat_count}</span>\n                    </div>\n                </div>\n            </li>\n        );\n    }\n\n  render() {\n    if(!this.props.BioApi.islogedin()) {\n        return (\n            <Redirect to=\"/movies\" />\n        );\n    }\n\n    return (\n        <>\n            <h2>Your Bookings</h2>\n            <ul className=\"Bookinglist\">\n                {this.state.reservations.map(this.renderOneBooking.bind(this))}\n            </ul>\n        </>\n    );\n  }\n}\n\nexport default MyBookings;\n","import React from 'react';\nimport {Redirect,Route, Switch} from \"react-router-dom\";\nimport Movies from './Movies';\nimport Movie from './Movie';\nimport Info from './Info';\nimport MyBookings from './MyBookings';\n\nclass ContentBox extends React.Component {\n    render() {\n    return (\n        <div id=\"ContentBox\">\n            <Switch>\n                <Redirect exact from =\"/\" to =\"/movies\"/>\n                \n                <Route path=\"/movies\">\n                    <Movies BioApi={this.props.BioApi} />\n                </Route>\n                <Route path=\"/movie/:id\">\n                    <Movie BioApi={this.props.BioApi} />\n                </Route>\n                <Route path=\"/info\">\n                    <Info />\n                </Route>\n                <Route path=\"/mybookings\">\n                    <MyBookings BioApi={this.props.BioApi} />\n                </Route>\n                <Route>404</Route>\n            </Switch>\n        </div>\n    );}\n}\n\nexport default ContentBox;","class BioApi {\n    conction = \"https://bio.tuffsruffs.se/api/\";\n    //conction = \"http://localhost:54426/api/\";\n\n    auditoriumsPromis = null;\n    auditoriumsList = [];\n    cinemasPromis = null;\n    cinemasList = [];\n    logedin = false;\n    eventFunctions = [];\n    user = null;\n\n    constructor() {\n        this.auditoriumsPromis = this.getJson(\"auditoriums\");\n        this.auditoriumsPromis.then((auditoriums) => this.auditoriumsList = auditoriums);\n        this.cinemasPromis = this.getJson(\"cinemas\");\n        this.cinemasPromis.then((cinemas) => this.cinemasList = cinemas);\n\n        const token = JSON.parse(localStorage.getItem('token'));\n        if(token) {\n            this.logedin = true;\n            this.user = token;\n        }\n    }\n    \n    async wait() {\n        await this.auditoriumsPromis;\n        await this.cinemasPromis;\n    }\n\n    async getJson(path) {\n        const response = await fetch(this.conction+path);\n        if(response.status < 200 || response.status >= 300 ) {\n            throw new Error(await response.text());\n        }\n        return response.json();\n    }\n\n    async postJson(path, formData){\n        const options = {\n            method: 'POST',\n            body: formData\n        }\n        const response = await fetch(this.conction+path, options);\n        if(response.status < 200 || response.status >= 300 ) {\n            throw new Error(await response.text());\n        }\n        return response.json();\n    }\n\n    async postString(path , formData){\n        const options = {\n            method: 'POST',\n            body: formData\n        }\n        const response = await fetch(this.conction+path, options);\n        \n        if(response.status < 200 || response.status >= 300 ) {\n            throw new Error(await response.text());\n        }\n\n        return response.text();\n    }\n\n    async movies() {\n        return this.getJson(\"movies\");\n    }\n\n    async movie(id) {\n        return this.getJson(\"movie/\"+id);\n    }\n\n    auditoriums(){\n        return this.auditoriumsList;\n    }\n\n    auditorium(id) {\n        for(const auditorium of this.auditoriumsList) {\n            if(id === auditorium.id){\n                return auditorium;\n            }\n        }\n        return null;\n    }\n\n    cinemas(){\n        return this.cinemasList;\n    }\n\n    cinema(id) {\n        for(const cinema of this.cinemasList) {\n            if(id === cinema.id){\n                return cinema;\n            }\n        }\n        return null;\n    }\n\n    async shows(movieid){\n        return this.getJson(\"movie/\"+movieid+\"/shows\");\n    }\n    \n    islogedin() {\n        return this.logedin;\n    }\n\n    email() {\n        if(this.user) {\n            return this.user.email;\n        } else {\n            return \"\";\n        }\n    }\n\n    async login(username, password){\n        let formData;\n        formData = new FormData();\n\n        formData.append('email', username);\n        formData.append('password', password);\n\n        try {\n            this.user = await this.postJson(\"login\", formData);\n        }\n        catch\n        {\n            return false;\n        }\n\n        this.logedin = true;\n        localStorage.setItem('token', JSON.stringify(this.user));\n        this.triggerListener();\n        return this.logedin;\n    }\n\n    async register(username, password){\n        let formData;\n        formData = new FormData();\n\n        formData.append('email', username);\n        formData.append('password', password);\n\n        try {\n            this.user = await this.postJson(\"register\", formData);\n        }\n        catch\n        {\n            return false;\n        }\n\n        this.logedin = true;\n        localStorage.setItem('token', JSON.stringify(this.user));\n        this.triggerListener();\n        return this.logedin;\n    }\n\n    async reservations() {\n        let formData;\n        formData = new FormData();\n        formData.append('token', this.user.token);\n\n        try {\n            return this.postJson(\"reservations\", formData);\n        } \n        catch \n        {\n            return [];\n        }\n    }\n\n    async addBookingCurrentUSer(showId, seatCount) {\n        let formData = new FormData();\n        formData.append('token', this.user.token);\n        formData.append('show_id', showId);\n        formData.append('seats', seatCount);\n\n        return this.postJson(\"book\", formData); \n    }\n\n    async addBookingNewUser(showId, seatCount, email) {\n        let formData = new FormData();\n        formData.append('email', email);\n        formData.append('show_id', showId);\n        formData.append('seats', seatCount);\n\n        return this.postJson(\"book\", formData); \n    }\n\n    logout(){\n        this.logedin = false;\n        this.user = null;\n        localStorage.removeItem('token');\n        this.triggerListener();\n    }\n\n    addListener(eventFunction){\n        this.eventFunctions.push(eventFunction);\n    }\n\n    triggerListener(){\n        for(const event of this.eventFunctions){\n            event(this.logedin);\n        }\n    }\n}\n\nexport default BioApi;\n","import React from \"react\";\nimport './Popup.scss';\n\nclass Popup extends React.Component {\n\n    close(){\n        document.getElementById(\"PopupShadow\").style.display = \"none\";\n    }\n\n    render() {\n        return (\n            <div id=\"PopupShadow\" onClick={this.close} />\n        );\n    }\n}\n\nexport default Popup;\n","//APP Defult window\nimport React from 'react';\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport './App.scss';\n\nimport Header from './Components/Header';\nimport ContentBox from './Components/ContectBox';\nimport BioApi from './Services/BioApi';\nimport Popup from './Components/Popup';\n\nclass App extends React.Component {\n  constructor () {\n    super();\n    this.api = new BioApi();\n    this.state = { pageToDisplay: \"HOME\" };\n  }\n\n  render() {\n  return (\n    <Router>\n      <Header Logedin={true} BioApi={this.api} />\n      <ContentBox BioApi={this.api} />\n      <Popup BioApi={this.api} />\n    </Router>\n  )};\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}